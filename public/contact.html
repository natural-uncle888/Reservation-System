<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="theme-color" content="#2563eb"/>
<title>è¯ç¹«åç¨±èªªæ˜</title>
<link rel="icon" type="image/png" href="https://res.cloudinary.com/dijzndzw2/image/upload/v1757176751/logo-3_hddq08.png"/>
<style>
  :root{
    --brand:#2563eb;--brand-600:#2563eb;--brand-700:#1e40af;
    --ink:#111827;--muted:#6b7280;--card:#f9fafb;--line:#e5e7eb;
    --field-font:16px; /* è®“è¡Œå‹•è£ç½®ä¸æœƒè‡ªå‹•æ”¾å¤§ï¼Œä¸”æå‡å¯è®€æ€§ */
    --radius:14px;
  }
  html,body{height:100%}
  body{
    font-family:"Noto Sans TC",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
    margin:0;color:var(--ink);background:#fff;font-size:16px;line-height:1.6;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  .wrap{max-width:960px;margin:0 auto;padding:20px 16px}
  h1{margin:0 0 8px;color:var(--brand)}
  p.desc{margin:0 0 12px;color:var(--muted)}
  .section{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px;margin:16px 0}
  .section h2{margin:0 0 10px;color:var(--brand);font-size:1.15rem}
  .row{display:grid;grid-template-columns:140px 1fr;gap:10px;align-items:center}
  @media (max-width: 520px){ .row{grid-template-columns:1fr;gap:6px} }
  /* åŸºæœ¬æ–‡å­—è¼¸å…¥é«”é©—ä¸€è‡´åŒ– */
  input[type="text"],input[type="tel"],textarea,select,.other-input{
    padding:12px 12px;border:1.5px solid #d1d5db;border-radius:10px;width:100%;max-width:640px;
    font-size:var(--field-font);line-height:1.5;box-sizing:border-box;
  }
  input::placeholder,textarea::placeholder{color:#9ca3af}
  /* é¸é …ç¾¤çµ„å¡ç‰‡åŒ– */
  .group{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-bottom:10px;align-items:start}
  label.option-card, .group .option-card, .group label{max-width:100%;
    min-width:220px;
    display:flex;align-items:center;gap:10px;background:#fff;border:2px solid #e5e7eb;border-radius:16px;
    padding:14px 12px;font-size:1.05rem;box-shadow:0 1px 8px rgba(0,0,0,.03);cursor:pointer;transition:border .13s, box-shadow .13s, background .12s;
  }
  
  .group .option-card:active,.group label:active{background:#e0e7ff;border-color:var(--brand)}
  .group input[type="radio"], .group input[type="checkbox"]{accent-color:var(--brand);width:22px;height:22px;margin-right:6px;margin-left:0;flex-shrink:0}
  .group .option-card.selected,.group label.selected{border:2.5px solid var(--brand);background:#e0e7ff;box-shadow:0 2px 12px rgba(37,99,235,.10)}
  /* å…¶ä»–è¼¸å…¥æ¡†ï¼šé è¨­éš±è—ï¼Œé»é¸ã€Œå…¶ä»–ã€æ‰é¡¯ç¤º */
  .other-input{display:none}
  .other-input.show{display:block;margin-top:8px}

  .group .other-input.show{grid-column:1 / -1;}

  /* å°èˆªæŒ‰éˆ•ä¸€è‡´åŒ– */
  .nav{display:flex;gap:12px;margin-top:22px}
  .nav a{
    flex:1;text-align:center;padding:14px 16px;background:var(--brand-600);color:#fff;border-radius:12px;text-decoration:none;
    font-weight:600;border:1px solid var(--brand-600);box-shadow:0 1px 6px rgba(37,99,235,.16);
    transition:background .15s, transform .05s, box-shadow .15s;
  }
  .nav a:hover{background:var(--brand-700)}
  .nav a:active{transform:translateY(1px)}
  /* ç¯„ä¾‹åœ–ç‰‡ï¼šæ”¯æ´æ¡Œæ©Ÿèˆ‡æ‰‹æ©Ÿé©ç•¶å°ºå¯¸ */
  .example-img{
    width:clamp(220px, 60vw, 460px); height:auto; border:1px solid #d1d5db;border-radius:10px; display:block;
  }
  @media (max-width:520px){
    .example-img{width:100%}
  }
  /* å¤–åœpaddingå¾®èª¿ */
  .wrap, main, form{padding-left:8px !important; padding-right:8px !important}

  /* === 2æ¬„åœ¨æ‰‹æ©Ÿä¸Šä¹Ÿç¶­æŒï¼Œä½†åšç·Šæ¹ŠåŒ–é¿å…è¶…å‡º === */
  @media (max-width: 520px){
    .group{grid-template-columns:repeat(2, minmax(0, 1fr)); gap:10px;}
    label.option-card, .group .option-card, .group label{
      padding:10px 10px;
      font-size:0.98rem;
      border-radius:14px;
      min-height:44px;
      gap:10px;
    }
    .group input[type="radio"], .group input[type="checkbox"]{
      width:20px; height:20px; margin-right:6px;
    }
  }
  /* æ–‡å­—æ›è¡Œé¿å…æº¢å‡º */
  .group .option-card, .group label{
    word-break:break-word;
    white-space:normal;
  }

  /* === å°èˆªæŒ‰éˆ•æ¨£å¼æ”¹æˆèˆ‡ final-booking ä¸€è‡´ï¼ˆæ¡Œæ©Ÿèˆ‡æ‰‹æ©Ÿï¼‰ === */
  .nav{ display:flex; gap:12px; max-width:960px; margin:18px auto; padding:0 16px; }
  .nav a{
    flex:1; text-align:center; padding:12px 16px; background:var(--brand); color:#fff;
    border-radius:10px; text-decoration:none; border:none; cursor:pointer;
    font: 500 16px/1.5 "Noto Sans TC", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
    -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  }
  .nav a:hover{ background:#1e40af; }


  /* === é˜²æ­¢æ‰‹æ©Ÿå…©æ¬„è¶…å‡ºé‚Šæ¡† === */
  * { box-sizing: border-box; }
  .group > * { min-width: 0; } /* è®“ grid å­å…ƒç´ å¯ä»¥ç¸® */
  .section { overflow: hidden; } /* é¿å…é™°å½±é€ æˆè¦–è¦ºæº¢å‡º */
  @media (max-width: 520px){
    .wrap{ padding-left: 10px !important; padding-right: 10px !important; }
    .section{ padding: 12px; border-radius: 12px; }
    .group{ grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; }
    label.option-card, .group .option-card, .group label{
      margin: 0;
      width: 100%;
      padding: 10px 12px;
      border: 1.5px solid #e5e7eb;
      border-radius: 12px;
      font-size: 0.95rem;
      line-height: 1.4;
    }
    .group input[type="radio"], .group input[type="checkbox"]{
      width: 18px; height: 18px; margin-right: 8px;
    }
  }
  /* ä»»ä½•é•·å­—è‡ªå‹•æ›è¡Œ */
  .group .option-card, .group label{
    overflow-wrap: anywhere;
    word-break: break-word;
    white-space: normal;
  }

</style>
<link rel="stylesheet" href="mobile-2col.css"/>
</head>
<body>
<div class="wrap">
  <h1>è¯ç¹«åç¨±èªªæ˜</h1>
  <div class="intro">
    <p>ç‚ºäº†åŠ å¿«é ç´„èˆ‡è³‡æ–™æ¯”å°é€Ÿåº¦ï¼Œç…©è«‹æ‚¨æä¾›ä¸‹åˆ—è¯ç¹«åç¨±ï¼š</p>
    <p>âœ… ä½¿ç”¨ LINE è¯ç¹«è€…ï¼šè«‹å¡«å¯«æ‚¨çš„ LINE é¡¯ç¤ºåç¨±ï¼ˆéIDï¼‰</p>
    <p>âœ… ä½¿ç”¨ Facebook ç²‰çµ²å°ˆé æˆ–ç§è¨Šè¯ç¹«è€…ï¼šè«‹å¡«å¯«æ‚¨æˆ–ç²‰å°ˆçš„ Facebook åç¨±</p>
    <p>ğŸ“Œ è‹¥æœªæä¾›åç¨±ï¼Œå¯èƒ½å°è‡´æˆ‘å€‘ç„¡æ³•é †åˆ©å°æ‡‰æ‚¨çš„é ç´„ç´€éŒ„ã€‚æ•¬è«‹å”åŠ©å¡«å¯«ï¼Œæ„Ÿè¬æ‚¨çš„é…åˆèˆ‡æ”¯æŒï¼</p>
  </div>

  <div class="section">
    <h2>èˆ‡æˆ‘å€‘è¯ç¹«æ–¹å¼</h2>
    <div class="group" id="contact-method">
      <label class="option-card"><input type="radio" name="contact_method" value="LINE"/>LINE</label>
      <label class="option-card"><input type="radio" name="contact_method" value="Facebook"/>Facebook</label>
      <label class="option-card"><input type="radio" name="contact_method" value="é›»è©±"/>é›»è©±</label>
      <label class="option-card"><input type="radio" name="contact_method" value="å…¶ä»–" data-other-id="contact_method_other"/>å…¶ä»–</label>
      <input type="text" class="other-input" id="contact_method_other" name="contact_method_other" placeholder="è«‹è¼¸å…¥å…¶ä»–è¯ç¹«æ–¹å¼"/>
    </div>
    <details><summary>å°æé†’</summary><p>è‹¥åå¥½éé›»è©±è¯ç¹«ï¼Œè«‹åœ¨ä¸‹æ–¹åç¨±è™•æä¾› LINE æˆ– FB åç¨±ã€‚</p></details>
  </div>

  <div class="section">
    <h2>LINE æˆ– Facebook åç¨±</h2>
    <div class="row" style="align-items:center;">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
        <div>åç¨±</div>
        <img src="imagesexample.jpg" alt="ç¯„ä¾‹åœ–ç‰‡ï¼šå¦‚ä½•æ‰¾åˆ° LINE æˆ– Facebook åç¨±" class="example-img"/>
      </div>
      <input type="text" name="social_name" placeholder="è«‹è¼¸å…¥åç¨±ï¼ˆè‹¥é¸ LINE/FB è«‹å‹™å¿…å¡«å¯«ï¼‰"/>
    </div>
  </div>

  <div class="section">
    <h2>åŸºæœ¬è³‡æ–™</h2>
    <div class="row">
      <div>é¡§å®¢å§“å</div>
      <input type="text" name="name" placeholder="å§“å"/>
    </div>
    <div class="row">
      <div>è¯ç¹«é›»è©±</div>
      <input type="tel" name="phone" placeholder="æ‰‹æ©Ÿæˆ–å¸‚è©±"/>
    </div>
    <div class="row">
      <div>æ¸…æ´—ä¿é¤Šåœ°å€</div>
      <input type="text" name="address" placeholder="ç¸£å¸‚å€ + è·¯åé–€ç‰Œ"/>
    </div>
    <div class="row">
      <div>å±…ä½åœ°å‹æ…‹</div>
      <div class="group" id="housing-type">
        <label class="option-card"><input type="radio" name="housing_type" value="é€å¤©å±‹"/>é€å¤©å±‹</label>
        <label class="option-card"><input type="radio" name="housing_type" value="å¤§æ¨“ï¼ˆæœ‰é›»æ¢¯ï¼‰"/>å¤§æ¨“ï¼ˆæœ‰é›»æ¢¯ï¼‰</label>
        <label class="option-card"><input type="radio" name="housing_type" value="å¤§æ¨“ï¼ˆç„¡é›»æ¢¯ï¼‰"/>å¤§æ¨“ï¼ˆç„¡é›»æ¢¯ï¼‰</label>
        <label class="option-card"><input type="radio" name="housing_type" value="å…¶ä»–" data-other-id="housing_type_other"/>å…¶ä»–</label>
        <input type="text" class="other-input" id="housing_type_other" name="housing_type_other" placeholder="è«‹è¼¸å…¥å‹æ…‹"/>
      </div>
    </div>
    <div class="row">
      <div>æ–¹ä¾¿è¯ç¹«æ™‚é–“ï¼ˆå¯è¤‡é¸ï¼‰</div>
      <div class="group">
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="å¹³æ—¥"/>å¹³æ—¥</label>
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="å‡æ—¥"/>å‡æ—¥</label>
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="ä¸Šåˆ"/>ä¸Šåˆ</label>
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="ä¸‹åˆ"/>ä¸‹åˆ</label>
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="æ™šä¸Š"/>æ™šä¸Š</label>
        <label class="option-card"><input type="checkbox" name="contact_time_preference" value="çš†å¯"/>çš†å¯</label>
      </div>
    </div>
    <details><summary>éš±ç§èªªæ˜</summary><p>è¯ç¹«è³‡è¨Šåƒ…ç”¨æ–¼é ç´„æºé€šèˆ‡æ´¾å·¥ï¼Œä¸åšå…¶ä»–ç”¨é€”ã€‚</p></details>
  </div>

  <div class="nav">
    <a href="other-service.html" id="back">â† è¿”å›ä¸Šä¸€æ­¥</a>
    <a href="final-booking.html" id="next">ä¸‹ä¸€æ­¥ âœ å®‰æ’æ™‚æ®µå¡«å¯«</a>
  </div>
</div>

<script>
  (function(){
    const KEY='BOOKING_DATA';
    const $=s=>document.querySelector(s);
    const $$=s=>Array.prototype.slice.call(document.querySelectorAll(s));

    function save(part){
      try{
        const prev = JSON.parse(localStorage.getItem(KEY)||'{}');
        localStorage.setItem(KEY, JSON.stringify(Object.assign(prev, part)));
      }catch(e){}
    }
    function collect(root=document){
      const out={};
      $$('input[name],select[name],textarea[name]', root).forEach(el=>{
        const n=el.name; if(!n) return;
        if(el.type==='checkbox'){
          if(!el.checked) return;
          (out[n]||(out[n]=[])).push(el.value);
        }else if(el.type==='radio'){
          if(!el.checked) return;
          let v=el.value;
          const oid=el.dataset.otherId;
          if(oid){
            const extra=(document.getElementById(oid)?.value||'').trim();
            if(extra) v = v+'ï¼š'+extra;
          }
          out[n]=v;
        }else{
          const v=(el.value||'').trim();
          if(v) out[n]=v;
        }
      });
      return out;
    }

    // å…¶ä»–è¼¸å…¥æ¡†é¡¯ç¤º/éš±è—æ§åˆ¶
    function setupOtherFieldToggle(){
      document.querySelectorAll('input[type="radio"][data-other-id]').forEach(function(radio){
        const targetId = radio.getAttribute('data-other-id');
        const target = document.getElementById(targetId);
        if(!target) return;

        function toggle(){
          if(radio.checked){
            target.classList.add('show');
            // èšç„¦åˆ°è¼¸å…¥æ¡†
            setTimeout(()=>target.focus(), 0);
          }else{
            target.classList.remove('show');
            // æ¸…ç©ºé¿å…æ®˜ç•™
            if(!document.querySelector('input[type="radio"][data-other-id][name="'+radio.name+'"]:checked')){
              target.value='';
            }
          }
        }
        // åˆå§‹ç‹€æ…‹
        toggle();
        // ç•¶åŒçµ„ä»»ä¸€ radio è®Šå‹•æ™‚æ›´æ–°
        document.querySelectorAll('input[type="radio"][name="'+radio.name+'"]').forEach(function(r){
          r.addEventListener('change', toggle);
        });
      });
    }

    // å¡ç‰‡é¸ä¸­æ¨£å¼æ§åˆ¶ï¼ˆradio/checkboxï¼‰
    function setupCardSelection(){
      document.querySelectorAll('.group').forEach(function(group){
        group.querySelectorAll('input[type="radio"],input[type="checkbox"]').forEach(function(input){
          function refresh(){
            if(input.type==="radio"){
              group.querySelectorAll('.option-card, label').forEach(function(card){
                card.classList.remove('selected');
              });
              const checked = group.querySelector('input[type="radio"]:checked');
              if(checked){ checked.closest('label')?.classList.add('selected'); }
            }else{
              if(input.checked) input.closest('label')?.classList.add('selected');
              else input.closest('label')?.classList.remove('selected');
            }
          }
          input.addEventListener('change', refresh);
          // åˆå§‹ç‹€æ…‹
          if(input.checked) input.closest('label')?.classList.add('selected');
        });
      });
    }

    document.addEventListener('change', ()=> save(collect()));
    ['back','next'].forEach(id=>{
      const a=document.getElementById(id);
      if(!a) return;
      a.addEventListener('click', ()=> save(collect()), {capture:true});
    });

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function(){
      setupOtherFieldToggle();
      setupCardSelection();
    });

    // åµéŒ¯è¼”åŠ©
    window.debugContact=()=>collect();
    window.debugLS=()=>JSON.parse(localStorage.getItem(KEY)||'{}');
  })();
</script>
</body>
</html>
